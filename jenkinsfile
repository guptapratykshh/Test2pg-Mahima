pipeline{
    agent any
    tools{
        maven 'maven'
    }
    stages{
        stage('Build'){
            steps{
            sh 'mvn clean package'
            }
        }
        stage('Test'){
            steps{
                sh 'mvn test'
            }
        }
         stage('Run JAR') { 
             steps { 
                 script { 
                     // Run the JAR file and capture the output 
                     def output = bat(script: 'java -jar target/simple-java-project-1.0-SNAPSHOT.jar', returnStdout: true).trim() 
  
                     // Print the output to Jenkins console 
                     echo "Output from JAR: ${output}" 
                 } 
             } 
         }
    }
    post {
        success {
            echo 'Pipeline executed successfully!'
        }
    failure {
            echo 'Pipeline failed. Please check the logs.'
        }
    }
}